<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mecalc – Cálculo de Força de Cilindros Pneumáticos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

<header class="top">
  <div class="wrap">
    <h1>Mecalc</h1>

    <nav class="main-nav">
      <a href="home.html">Home</a>
      <a href="index.html" class="active">Pneumática</a>
      <a href="transportadores.html">Transportadores</a>
    </nav>
  </div>
</header>

<main class="wrap">

  <!-- CARD: Tabela de força dos cilindros -->
  <section class="card">
    <h2>Tabela de força do cilindro pneumático</h2>
    <p class="para" style="margin-top:4px;">
      Valores em <b>kgf</b> para avanço e retorno, de <b>2 até 10 bar</b>.
    </p>

    <div class="torque-grid" style="margin-top:10px; align-items:flex-end;">
      <label>
        Ø do cilindro (mm)
        <select id="boreSelect"></select>
      </label>

      <label>
        Pressão (bar)
        <select id="pressure">
          <option value="">—</option>
          <option value="2">2 bar</option>
          <option value="3">3 bar (interpolar 2–4)</option>
          <option value="4">4 bar</option>
          <option value="5">5 bar (interpolar 4–6)</option>
          <option value="6">6 bar</option>
          <option value="7">7 bar (interpolar 6–8)</option>
          <option value="8">8 bar</option>
          <option value="9">9 bar (interpolar 8–10)</option>
          <option value="10">10 bar</option>
        </select>
      </label>

      <label>
        Buscar Ø na tabela
        <input type="number" id="search" placeholder="ex: 32" />
      </label>

      <button type="button" id="clear">Limpar seleção</button>
    </div>

    <div class="para" style="font-size:12px; color:var(--muted); margin-top:8px;">
      Interpolação linear aproximada:<br>
      3 bar → entre 2 e 4 &nbsp;&nbsp;|&nbsp;&nbsp;
      5 bar → entre 4 e 6 &nbsp;&nbsp;|&nbsp;&nbsp;
      7 bar → entre 6 e 8 &nbsp;&nbsp;|&nbsp;&nbsp;
      9 bar → entre 8 e 10.
    </div>

    <div style="overflow-x:auto; margin-top:12px;">
      <table id="forceTable"></table>
    </div>
  </section>

  <!-- CARD: Cálculo de torque na alavanca -->
  <section class="card torque-card">
    <h2>Cálculo de torque na alavanca</h2>

    <!-- DIAGRAMA (crie a pasta img e o arquivo SVG abaixo) -->
<div class="diagram-block">
  <div class="diagram-svg" aria-label="Diagrama do ângulo entre cilindro e alavanca (θ inicial e θ final)">
    <svg xmlns="http://www.w3.org/2000/svg" width="900" height="380" viewBox="0 0 900 380" style="width:100%;height:auto;display:block;">
      <defs>
        <style>
          .s{fill:none;stroke:#d9d9d9;stroke-width:4;stroke-linecap:round;stroke-linejoin:round}
          .d{fill:none;stroke:#d9d9d9;stroke-width:3;stroke-dasharray:10 10;stroke-linecap:round}
          .t{fill:#d9d9d9;font: 18px system-ui, -apple-system, Segoe UI, Arial}
          .m{fill:#d9d9d9;font: 15px system-ui, -apple-system, Segoe UI, Arial}
          .red{stroke:#ff4b4b}
          .blue{stroke:#4aa3ff}
          .yellow{stroke:#ffd54a}
        </style>
      </defs>

      <text x="20" y="42" class="t">Como medir θ (ângulo entre cilindro e alavanca)</text>
      <text x="20" y="68" class="m">θ é medido no pino de ligação: entre a alavanca (pivô → pino) e o eixo do cilindro (linha de ação).</text>

      <circle cx="190" cy="85" r="22" fill="none" stroke="#d9d9d9" stroke-width="4"/>
      <circle cx="190" cy="85" r="6" fill="#d9d9d9"/>
      <text x="225" y="92" class="m">Pivô</text>

      <line x1="190" y1="85" x2="265" y2="310" class="s red"/>
      <text x="85" y="205" class="m">Alavanca</text>

      <circle cx="265" cy="310" r="7" fill="#d9d9d9"/>
      <text x="280" y="332" class="m">Pino</text>

      <!-- Cilindro em duas posições (θ0 e θ1) -->
      <line x1="265" y1="310" x2="760" y2="255" class="d blue"/>
      <text x="770" y="260" class="m">Cilindro (θ₀)</text>

      <line x1="265" y1="310" x2="745" y2="150" class="s blue"/>
      <text x="770" y="155" class="m">Cilindro (θ₁)</text>

      <!-- Guias -->
      <line x1="265" y1="310" x2="190" y2="85" class="d"/>
      <line x1="265" y1="310" x2="760" y2="255" class="d"/>
      <line x1="265" y1="310" x2="745" y2="150" class="d"/>

      <!-- Arcos θ0 e θ1 -->
      <path d="M 228 272 A 70 70 0 0 1 324 300" class="s yellow"/>
      <text x="330" y="286" class="t">θ₀</text>

      <path d="M 232 268 A 95 95 0 0 0 314 228" class="s yellow"/>
      <text x="320" y="226" class="t">θ₁</text>

      <text x="20" y="355" class="m">Dica: evite θ próximo de 0° ou 180° (sin(θ) ≈ 0 → torque muito baixo).</text>
    </svg>
  </div>

  <p class="diagram-hint">
    Meça <b>θ</b> como o ângulo <b>entre a alavanca (pivô → pino)</b> e o <b>eixo do cilindro</b> (linha de ação),
    medido no <b>pino</b>. Informe <b>θ inicial</b> e <b>θ final</b> para gerar o gráfico.
  </p>
</div>


    <div class="torque-grid">

      <label>
        Tipo de força (tabela)
        <select id="forceKind">
          <option value="e">Avanço</option>
          <option value="r">Retorno</option>
        </select>
      </label>

      <button type="button" id="useTableForce">
        Usar força da tabela
      </button>

      <label>
        Força no cilindro (kgf)
        <input type="number" id="cylinderForce" placeholder="ex: 50" step="0.1" />
      </label>

      <label>
        Comprimento da alavanca (mm)
        <input type="number" id="leverLength" placeholder="ex: 40" step="0.1" />
      </label>

      <label>
        Ângulo inicial entre cilindro e alavanca (°)
        <input type="number" id="angleStart" placeholder="ex: 45" step="0.1" />
      </label>

      <label>
        Ângulo final entre cilindro e alavanca (°)
        <input type="number" id="angleEnd" placeholder="ex: 90" step="0.1" />
      </label>

      <button type="button" id="calculateTorque">
        Calcular torque e gráfico
      </button>
    </div>

    <div id="torqueResult" class="result"></div>

    <div style="margin-top:16px; height:260px;">
      <canvas id="forceChart"></canvas>
    </div>
  </section>

  <!-- CARD: Dimensionar cilindro pelo torque desejado -->
  <section class="card">
    <h2>Dimensionar cilindro pelo torque desejado</h2>

    <p class="para" style="margin-bottom:6px;">
      Utilize o <b>mesmo braço (mm)</b> e os <b>mesmos ângulos inicial/final</b> definidos acima.
      Informe o torque mínimo que você precisa no pior ponto do movimento.
    </p>

    <div class="torque-grid">
      <label>
        Torque desejado (mínimo no intervalo)
        <input type="number" id="desiredTorque" placeholder="ex: 15" step="0.01" />
      </label>

      <label>
        Unidade do torque desejado
        <select id="desiredTorqueUnit">
          <option value="kgfm">kgf·m</option>
          <option value="Nm">N·m</option>
        </select>
      </label>

      <button type="button" id="calcCylinder">
        Dimensionar cilindro
      </button>
    </div>

    <div id="cylinderResult" class="result"></div>

    <div class="para" style="font-size:12px; color:var(--muted); margin-top:10px;">
      Dica: para aplicações com impacto, alta ciclagem ou cargas variáveis, considere utilizar
      fator de segurança maior, cilindro com diâmetro superior e/ou válvulas de retenção
      pilotadas para evitar recuo da carga.
    </div>
  </section>

</main>

<footer class="wrap" style="margin:30px 0; text-align:center; font-size:12px;">
  © 2025 Mecalc — Ferramentas para Engenharia Mecânica
</footer>

<!-- Chart.js para o gráfico de torque x ângulo -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Lógica da tabela, torque e dimensionamento -->
<script src="app.js"></script>
</body>
</html>

